(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[295],{5794:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return s(6323)}])},6323:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var a=s(7876),r=s(4232),n=s(1772),o=s(1041),i=s(7328),l=s.n(i),c=s(1040),d=s(9099),u=s(8230),g=s.n(u),m=s(6740);function h(){let[e,t]=(0,r.useState)(""),[s,i]=(0,r.useState)(""),[u,h]=(0,r.useState)(""),[x,b]=(0,r.useState)(""),p=(0,d.useRouter)();(0,r.useEffect)(()=>{localStorage.getItem("token")&&p.push("/profile")},[p]),(0,r.useEffect)(()=>{(async function(){try{let e=await c.A.get("https://api.unsplash.com/photos/random",{params:{query:"cybersecurity",orientation:"landscape",client_id:"zjKsVTPyuTxCeTiVgayeg6igk_IvglEtrRwhY2tsvHY"}});h(e.data.urls.regular)}catch(e){console.error("Error fetching background image:",e)}})()},[]);let f=async t=>{t.preventDefault();try{let t=await c.A.post("/api/login",{email:e,password:s});localStorage.setItem("token",t.data.token),p.push("/")}catch(e){console.error("Error logging in:",e),b("Failed to log in. Please check your credentials and try again.")}};return(0,a.jsxs)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100",style:{backgroundImage:"url(".concat(u,")"),backgroundSize:"cover",backgroundPosition:"center"},children:[(0,a.jsxs)(l(),{children:[(0,a.jsx)("title",{children:"Login - Social Engineering News Aggregator"}),(0,a.jsx)("meta",{name:"description",content:"Login to access your account"})]}),(0,a.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-2xl w-96 backdrop-filter backdrop-blur-lg bg-opacity-30",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold mb-6 text-center text-gray-800",children:"Login"}),x&&(0,a.jsx)("p",{className:"text-red-500 mb-4",children:x}),(0,a.jsxs)("form",{onSubmit:f,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:[(0,a.jsx)(n.g,{icon:o.y_8,className:"mr-2"}),"Email"]}),(0,a.jsx)("input",{type:"email",id:"email",value:e,onChange:e=>t(e.target.value),className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-black",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:[(0,a.jsx)(n.g,{icon:o.DW4,className:"mr-2"}),"Password"]}),(0,a.jsx)("input",{type:"password",id:"password",value:s,onChange:e=>i(e.target.value),className:"mt-1 block w-full px-3 py-2 bg-white border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 text-black",required:!0})]}),(0,a.jsxs)("button",{type:"submit",className:"w-full bg-blue-500 text-white p-2 rounded mt-4 hover:bg-blue-600 transition duration-300",children:[(0,a.jsx)(n.g,{icon:o.rhE,className:"mr-2"}),"Login"]})]}),(0,a.jsx)("div",{className:"mt-4",children:(0,a.jsx)(m.A,{})}),(0,a.jsxs)("p",{className:"mt-4 text-center text-gray-700",children:["Don't have an account?"," ",(0,a.jsx)(g(),{href:"/signup",legacyBehavior:!0,children:(0,a.jsx)("a",{className:"text-blue-500 hover:underline",children:"Sign Up"})})]})]})]})}},6740:(e,t,s)=>{"use strict";s.d(t,{A:()=>i});var a=s(7876),r=s(2934),n=s(1772),o=s(8614);function i(){let{data:e}=(0,r.useSession)();return e?(0,a.jsxs)("div",{className:"mt-4 text-center",children:[(0,a.jsxs)("p",{className:"text-gray-700 mb-2",children:["You are logged in as ",e.user.email,"!"]}),(0,a.jsx)("button",{onClick:()=>(0,r.signOut)({callbackUrl:"http://localhost:3000"}),className:"w-full bg-red-500 text-white p-2 rounded hover:bg-red-600 transition duration-300",children:"Sign out"})]}):(0,a.jsxs)("button",{onClick:()=>(0,r.signIn)("google",{callbackUrl:"http://localhost:3000"}),className:"w-full flex items-center justify-center bg-red-500 text-white p-2 rounded mt-4 hover:bg-red-600 transition duration-300",children:[(0,a.jsx)(n.g,{icon:o.FjH,className:"mr-2"}),"Sign in with Google"]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[805,149,636,593,792],()=>t(5794)),_N_E=e.O()}]);