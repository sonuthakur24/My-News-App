(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{7325:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d});var a=s(7876),r=s(1772),l=s(7328),n=s.n(l),c=s(1040),i=s(4232),o=s(1041),u=s(2934);function d(){let{data:e}=(0,u.useSession)(),[t,s]=(0,i.useState)([]),[l,d]=(0,i.useState)([]),[m,g]=(0,i.useState)(""),[x,h]=(0,i.useState)("latest"),[p,f]=(0,i.useState)({}),[b,w]=(0,i.useState)({}),[N,j]=(0,i.useState)({}),[y,v]=(0,i.useState)(""),[k,E]=(0,i.useState)(["All Categories","Phishing","Ransomware","Data Breach","MITM Attacks","Social Engineering","Cybersecurity","Hacking","Malware","Privacy","Encryption"]),[S,C]=(0,i.useState)(""),[A,_]=(0,i.useState)(""),[T,D]=(0,i.useState)("");(0,i.useEffect)(()=>{(async function(){try{let e=(await c.A.get("https://newsapi.org/v2/everything",{params:{q:"social engineering",apiKey:"37b31121ec964de88eecb783de6cec91"}})).data.articles.map(e=>({...e,category:I(e),tags:L(e),urlToImage:e.urlToImage||"https://via.placeholder.com/150"}));s(e),E([...new Set([...k,...e.map(e=>e.category)])])}catch(e){console.error("Error fetching articles:",e)}})()},[]),(0,i.useEffect)(()=>{let e=t;if(m){let t=m.toLowerCase();e=e.filter(e=>e.title.toLowerCase().includes(t)||e.description.toLowerCase().includes(t)||e.tags.some(e=>e.toLowerCase().includes(t)))}if(S&&"All Categories"!==S&&(e=e.filter(e=>e.category===S)),A&&T){let t=new Date(A),s=new Date(T);e=e.filter(e=>{let a=new Date(e.publishedAt);return a>=t&&a<=s})}d(e)},[m,t,S,A,T]);let I=e=>{let t=e.title.toLowerCase(),s=e.description.toLowerCase();return t.includes("phishing")||s.includes("phishing")?"Phishing":t.includes("ransomware")||s.includes("ransomware")?"Ransomware":t.includes("data breach")||s.includes("data breach")||t.includes("MITM Attacks")||s.includes("MITM Attacks")?"Data Breach":"Other"},L=e=>{let t="".concat(e.title," ").concat(e.description).toLowerCase();return["cybersecurity","hacking","malware","privacy","encryption","social engineering"].filter(e=>t.includes(e))},M=async e=>{try{let{likes:t,comments:s}=(await c.A.get("/api/getInteractions",{params:{articleId:e}})).data||{};f(s=>({...s,[e]:t||[]})),w(t=>({...t,[e]:s||[]}))}catch(e){console.error("Error fetching interactions:",e)}},B=async(t,s)=>{if(!e){v("You need to be logged in to like an article."),setTimeout(()=>v(""),3e3);return}try{console.log("Session data:",e),console.log("Article ID:",s),console.log("User Email:",e.user.email),await c.A.post("/api/like",{articleId:s,userId:e.user.email}),f(t=>({...t,[s]:(t[s]||[]).concat(e.user.email)}))}catch(e){console.error("Error liking article:",e)}},P=async(t,s,a)=>{if(!e){v("You need to be logged in to comment on an article."),setTimeout(()=>v(""),3e3);return}try{await c.A.post("/api/comment",{articleId:s,userId:e.user.email,comment:a}),w(t=>({...t,[s]:(t[s]||[]).concat({userId:e.user.email,comment:a})}))}catch(e){console.error("Error commenting on article:",e)}},O=(e,t)=>{navigator.clipboard.writeText(t).then(()=>{v("Link copied to clipboard!"),j(t=>({...t,[e]:(t[e]||0)+1})),setTimeout(()=>{v("")},3e3)}).catch(e=>{console.error("Failed to copy: ",e)})};return(0,i.useEffect)(()=>{t.forEach(e=>{M(e.url)})},[t]),(0,a.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,a.jsxs)(n(),{children:[(0,a.jsx)("title",{children:"News - Social Engineering News Aggregator"}),(0,a.jsx)("meta",{name:"description",content:"Browse the latest news articles on social engineering."})]}),(0,a.jsxs)("main",{className:"container mx-auto p-6",children:[y&&(0,a.jsx)("div",{className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 bg-blue-500 text-white px-4 py-2 rounded shadow-lg",children:y}),(0,a.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between mb-8",children:[(0,a.jsxs)("div",{className:"flex items-center w-full md:w-6/12 mb-4 md:mb-0",children:[(0,a.jsx)(r.g,{icon:o.MjD,className:"text-gray-500 mr-2"}),(0,a.jsx)("input",{type:"text",placeholder:"Search articles...",value:m,onChange:e=>g(e.target.value),className:"p-2 border rounded-full w-full text-black shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{className:"flex flex-wrap items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(r.g,{icon:o.mRM,className:"text-gray-500 mr-2"}),(0,a.jsx)("select",{value:S,onChange:e=>C(e.target.value),className:"p-2 border rounded-full text-black shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:k.map(e=>(0,a.jsx)("option",{value:e,children:e},e))})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(r.g,{icon:o.BEE,className:"text-gray-500 mr-2"}),(0,a.jsx)("label",{className:"mr-2 text-black",children:"Start Date"}),(0,a.jsx)("input",{type:"date",value:A,onChange:e=>_(e.target.value),className:"p-2 border rounded-full text-black shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,a.jsxs)("div",{className:"flex items-center",children:[(0,a.jsx)(r.g,{icon:o.BEE,className:"text-gray-500 mr-2"}),(0,a.jsx)("label",{className:"mr-2 text-black",children:"End Date"}),(0,a.jsx)("input",{type:"date",value:T,onChange:e=>D(e.target.value),className:"p-2 border rounded-full text-black shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map((e,t)=>(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow duration-300",children:[(0,a.jsx)("img",{src:e.urlToImage,alt:e.title,className:"w-full h-48 object-cover rounded-lg"}),(0,a.jsx)("h3",{className:"text-xl font-semibold mt-4 text-black",children:(0,a.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"hover:text-blue-600",children:e.title})}),(0,a.jsx)("p",{className:"text-gray-600 mt-2",children:e.description}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("span",{className:"bg-blue-100 text-blue-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded",children:e.category}),e.tags.map(e=>(0,a.jsx)("span",{className:"bg-gray-100 text-gray-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded",children:e},e))]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 mt-4",children:[(0,a.jsxs)("button",{onClick:()=>B(t,e.url),className:"text-blue-600 hover:text-blue-800 flex items-center",children:[(0,a.jsx)(r.g,{icon:o.Wcv,className:"mr-1"})," Like (",(p[e.url]||[]).length,")"]}),(0,a.jsxs)("button",{onClick:()=>O(t,e.url),className:"text-blue-600 hover:text-blue-800 flex items-center",children:[(0,a.jsx)(r.g,{icon:o.QOt,className:"mr-1"})," Share (",N[t]||0,")"]})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("input",{type:"text",placeholder:"Add a comment...",className:"p-2 border rounded-full w-full text-black shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500",onKeyDown:s=>{"Enter"===s.key&&(P(t,e.url,s.target.value),s.target.value="")}}),(0,a.jsx)("div",{className:"mt-2",children:(b[e.url]||[]).map((e,t)=>(0,a.jsxs)("p",{className:"text-gray-600 flex items-center",children:[(0,a.jsx)(r.g,{icon:o.DN2,className:"mr-1"})," ",e.comment]},t))})]})]},t))})]})]})}},9852:(e,t,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/news",function(){return s(7325)}])}},e=>{var t=t=>e(e.s=t);e.O(0,[149,636,593,792],()=>t(9852)),_N_E=e.O()}]);